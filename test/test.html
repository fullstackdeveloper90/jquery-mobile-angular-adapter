<!DOCTYPE html>
<html>
<!--
Test page during development.
-->
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>

    <script src="../lib/jquery.js"></script>

<script>
    $(function() {
        $(window).on("popstate", function() {
            console.log("now");
            window.setTimeout(function() {
            console.log(3);
            window.scrollTo(0, 50);
            // window.scrollTo(0, 300);
            });
        });        
        window.setTimeout(function() {
            // First scroll does not work in DOMContentLoaded.
            // AND: Have to wait for first popstate in Chrome!
            window.scrollTo(0,400);
            history.pushState(null, "", '#page5');
        },10);
        window.setTimeout(function() {
            window.scrollTo(0,0);
        },20);
        window.setTimeout(function() {
            history.back();
        },200);
    });
</script>

</head>
<body ng-app="ngm">
<div id="main" data-role="page">
    <div data-role="header">
        <h1>Page1</h1>
    </div>    
    <div data-role="content">
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <p>Hello</p>
        <a href="#page2">Page2</a>

    </div>
</div>

<div data-role="page" id="page2">
    <div data-role="header">
        <h1>Page2</h1>
    </div>    
    <div data-role="content">
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <p>Hello2</p>        
        <a href="#main">Page1</a>
    </div>    
</div>    

</body>
</html>